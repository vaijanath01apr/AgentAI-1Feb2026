# Phidata Agent

A collection of AI agents built with [Phidata](https://github.com/phidatahq/phidata) and OpenAI's GPT-4o model.

## Overview

This project contains multiple AI agents built using the Phidata framework. Each agent demonstrates a different capability — from basic conversational AI, to web search, SQL data analysis, and multi-agent team coordination.

## Prerequisites

- Python 3.8+
- An OpenAI API key

## Setup

### 1. Clone the repository

```bash
git clone <repo-url>
cd phidata-agent
```

### 2. Create a virtual environment

```bash
python -m venv venv
source venv/bin/activate      # macOS/Linux
venv\Scripts\activate         # Windows
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```

### 4. Configure environment variables

Create a `.env` file in the `phidata-agent` directory:

```bash
touch .env
```

Add your OpenAI API key:

```
OPENAI_API_KEY=your_openai_api_key_here
```

## Running the Project

### Basic agent

```bash
python basic.py
```

Sends the prompt `"What is the capital of France?"` to a simple conversational agent and prints the response.

### Web search agent

```bash
python websearch_agent.py
```

Runs a research-focused agent that searches the web via DuckDuckGo. Streams the response for the query `"What are the latest AI developments?"`, with sources included in the output.

### SQL data analyst agent

First, generate the SQLite database from the sample CSV:

```bash
python create_sqlite.py
```

Then run the SQL agent:

```bash
python sqlite_agent.py
```

Runs an expert SQL analyst agent against `./data/sales_data.db`. By default it uses Phidata's built-in `SQLTools`. Pass `use_custom_tools=True` to `create_sql_agent()` to use the `CustomSQLTools` from `tools.py` instead, which adds analytics helpers like column stats, schema inspection, and data search.

### Agent team

```bash
python agent-teams.py
```

Runs a coordinated team of three agents:
- **Jarvis** — web research via DuckDuckGo
- **Financial Analyst** — stock data via YFinance
- **Team Leader** — delegates tasks and synthesises results

The default query is `"Analyze Microsoft stock performance."`.

### Text knowledge (RAG) agent

```bash
python text_knowledge.py
```

Runs a RAG-powered agent that ingests a plain-text article (`data/sample_article.txt`), chunks it with a fixed-size strategy (1 024 tokens, 50-token overlap), and stores embeddings in a local LanceDB vector store. The agent then answers questions by searching the knowledge base before responding. The default query is `"which countries john travelled to?"`.

## Project Structure

```
phidata-agent/
├── basic.py              # Basic conversational agent
├── websearch_agent.py    # Web search agent using DuckDuckGo
├── sqlite_agent.py       # SQL data analyst agent
├── agent-teams.py        # Multi-agent team (web + finance + leader)
├── text_knowledge.py     # RAG agent with text knowledge base (LanceDB)
├── create_sqlite.py      # Script to generate the SQLite database from CSV
├── tools.py              # Custom SQL toolkit (CustomSQLTools)
├── data/
│   ├── sales_data.csv    # Sample sales dataset
│   ├── sales_data.db     # SQLite database (generated by create_sqlite.py)
│   └── sample_article.txt # Plain-text article for the RAG knowledge base
├── tmp/
│   └── lancedb/          # LanceDB vector store (generated at runtime)
├── requirements.txt      # Python dependencies
└── .env                  # Environment variables (not committed)
```

## Dependencies

| Package              | Purpose                              |
|----------------------|--------------------------------------|
| `phidata`            | Agent framework                      |
| `openai`             | GPT-4o model integration             |
| `duckduckgo-search`  | Web search tool                      |
| `yfinance`           | Financial data tool                  |
| `newspaper4k`        | News article extraction tool         |
| `python-dotenv`      | Load environment variables           |
| `lancedb`            | Vector database                      |
| `sqlalchemy`         | SQL database ORM                     |
